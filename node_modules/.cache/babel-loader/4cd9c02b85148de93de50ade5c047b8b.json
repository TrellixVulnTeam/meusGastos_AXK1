{"remainingRequest":"C:\\Users\\Usuario\\Desktop\\Meus gastos App\\meus-gastos\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\Usuario\\Desktop\\Meus gastos App\\meus-gastos\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Usuario\\Desktop\\Meus gastos App\\meus-gastos\\node_modules\\vue-loader-v16\\dist\\templateLoader.js??ref--6!C:\\Users\\Usuario\\Desktop\\Meus gastos App\\meus-gastos\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Usuario\\Desktop\\Meus gastos App\\meus-gastos\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\Usuario\\Desktop\\Meus gastos App\\meus-gastos\\src\\components\\GraficoResumo.vue?vue&type=template&id=5770eb14&scoped=true","dependencies":[{"path":"C:\\Users\\Usuario\\Desktop\\Meus gastos App\\meus-gastos\\src\\components\\GraficoResumo.vue","mtime":1616804702237},{"path":"C:\\Users\\Usuario\\Desktop\\Meus gastos App\\meus-gastos\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Usuario\\Desktop\\Meus gastos App\\meus-gastos\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Usuario\\Desktop\\Meus gastos App\\meus-gastos\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Usuario\\Desktop\\Meus gastos App\\meus-gastos\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":499162500000},{"path":"C:\\Users\\Usuario\\Desktop\\Meus gastos App\\meus-gastos\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Usuario\\Desktop\\Meus gastos App\\meus-gastos\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlQmxvY2sgYXMgX2NyZWF0ZUJsb2NrLCB3aXRoU2NvcGVJZCBhcyBfd2l0aFNjb3BlSWQsIHB1c2hTY29wZUlkIGFzIF9wdXNoU2NvcGVJZCwgcG9wU2NvcGVJZCBhcyBfcG9wU2NvcGVJZCB9IGZyb20gInZ1ZSI7Cgp2YXIgX3dpdGhJZCA9IC8qI19fUFVSRV9fKi9fd2l0aFNjb3BlSWQoImRhdGEtdi01NzcwZWIxNCIpOwoKX3B1c2hTY29wZUlkKCJkYXRhLXYtNTc3MGViMTQiKTsKCnZhciBfaG9pc3RlZF8xID0gLyojX19QVVJFX18qL19jcmVhdGVWTm9kZSgiY2FudmFzIiwgewogIGlkOiAiZ3JhZmljbyIKfSwgbnVsbCwgLTEpOwoKX3BvcFNjb3BlSWQoKTsKCmV4cG9ydCB2YXIgcmVuZGVyID0gLyojX19QVVJFX18qL193aXRoSWQoZnVuY3Rpb24gKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykgewogIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jaygiZGl2IiwgbnVsbCwgW19ob2lzdGVkXzFdKTsKfSk7"},{"version":3,"sources":["C:\\Users\\Usuario\\Desktop\\Meus gastos App\\meus-gastos\\src\\components\\GraficoResumo.vue"],"names":[],"mappings":";;;;;;8BAEQ,YAAA,CAA8B,QAA9B,EAA8B;AAAtB,EAAA,EAAE,EAAC;AAAmB,CAA9B,EAAoB,IAApB,EAAoB,CAAA,CAApB,C;;;;;uBADN,YAAA,CAEM,KAFN,EAEM,IAFN,EAEM,CADA,UACA,CAFN,C","sourcesContent":["<template>\r\n  <div>\r\n        <canvas id='grafico'></canvas>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters } from 'vuex';\r\nimport Chart from 'chart.js';\r\n\r\nexport default {\r\n    name: 'GraficoResumo',\r\n    computed: mapGetters(['todosLancamentos']),\r\n    data(){\r\n        return{\r\n            opcoesGrafico:{\r\n                responsive: true,\r\n                title:{\r\n                    display: true,\r\n                    text: 'Dinheiro em caixa',\r\n                },\r\n                tooltips:{\r\n                    mode: 'index',\r\n                    intersect: false,\r\n                },\r\n                // hover:{\r\n                //     mode: 'nearest',\r\n                //     intersect: false,\r\n                // },\r\n                scales:{\r\n                    xAxes:[\r\n                        {\r\n                            display: true,\r\n                            scaleLabel: {\r\n                                display: true,\r\n                                labelString: \"Dias\",\r\n                            }\r\n\r\n                        }\r\n                    ],\r\n                    yAxes:[\r\n                        {\r\n                            display: true,\r\n                            scaleLabel: {\r\n                                display: true,\r\n                                labelString: \"Renda\"\r\n                            }\r\n                        }\r\n                    ]\r\n                }\r\n            },\r\n        }\r\n    },\r\n    methods:{\r\n        renderizaGrafico(){\r\n\r\n            const grafico = document.getElementById('grafico');\r\n\r\n            if(grafico){\r\n\r\n                let lancamentos = [...this.todosLancamentos];\r\n                lancamentos.sort((a, b)=> new Date(a.data) < new Date(b.data));\r\n                lancamentos.reverse();\r\n    \r\n                let valorEmCaixa = 0;\r\n                let datas = [];\r\n                let valores = [];\r\n    \r\n                datas = lancamentos.map( lancamento =>{\r\n                    valorEmCaixa += lancamento.valor;\r\n                    valores.push(valorEmCaixa)\r\n                    return lancamento.data;\r\n                })\r\n    \r\n                const corCurva = valorEmCaixa > 0 ? 'blue' : 'red';\r\n                const config = {\r\n                    type: \"line\",\r\n                    data:{\r\n                        labels: datas,\r\n                        datasets:[\r\n                            {\r\n                                label: \"Comportamento do seu dinheiro\",\r\n                                borderColor: corCurva,\r\n                                backgroundColor: corCurva,\r\n                                data: valores,\r\n                                fill: false\r\n                            }\r\n                        ]\r\n                    },\r\n                    options: this.opcoesGrafico,\r\n                };\r\n                const contexto = document.getElementById('grafico').getContext('2d');\r\n                new Chart(contexto, config);\r\n            }\r\n        }\r\n    },\r\n    mounted(){\r\n        this.renderizaGrafico();\r\n    },\r\n    created(){\r\n        this.$store.subscribe((mutation, state)=>{\r\n            if(mutation.type === \"calculaCaixa\"){\r\n                this.renderizaGrafico();\r\n                console.log('state');\r\n                console.log(state);\r\n            }\r\n        })\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\ndiv{\r\n    width: 90% !important;\r\n}\r\n\r\n</style>"],"sourceRoot":""}]}