{"remainingRequest":"C:\\Users\\Usuario\\Desktop\\Meus gastos App\\meus-gastos\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Usuario\\Desktop\\Meus gastos App\\meus-gastos\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Usuario\\Desktop\\Meus gastos App\\meus-gastos\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\Usuario\\Desktop\\Meus gastos App\\meus-gastos\\src\\components\\GraficoResumo.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\Usuario\\Desktop\\Meus gastos App\\meus-gastos\\src\\components\\GraficoResumo.vue","mtime":1616801942419},{"path":"C:\\Users\\Usuario\\Desktop\\Meus gastos App\\meus-gastos\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Usuario\\Desktop\\Meus gastos App\\meus-gastos\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Usuario\\Desktop\\Meus gastos App\\meus-gastos\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Usuario\\Desktop\\Meus gastos App\\meus-gastos\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICJDOi9Vc2Vycy9Vc3VhcmlvL0Rlc2t0b3AvTWV1cyBnYXN0b3MgQXBwL21ldXMtZ2FzdG9zL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JzsKaW1wb3J0IENoYXJ0IGZyb20gJ2NoYXJ0LmpzJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdHcmFmaWNvUmVzdW1vJywKICBjb21wdXRlZDogbWFwR2V0dGVycyhbJ3RvZG9zTGFuY2FtZW50b3MnXSksCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG9wY29lc0dyYWZpY286IHsKICAgICAgICByZXNwb25zaXZlOiB0cnVlLAogICAgICAgIHRpdGxlOiB7CiAgICAgICAgICBkaXNwbGF5OiB0cnVlLAogICAgICAgICAgdGV4dDogJ0RpbmhlaXJvIGVtIGNhaXhhJwogICAgICAgIH0sCiAgICAgICAgdG9vbHRpcHM6IHsKICAgICAgICAgIG1vZGU6ICdpbmRleCcsCiAgICAgICAgICBpbnRlcnNlY3Q6IGZhbHNlCiAgICAgICAgfSwKICAgICAgICAvLyBob3Zlcjp7CiAgICAgICAgLy8gICAgIG1vZGU6ICduZWFyZXN0JywKICAgICAgICAvLyAgICAgaW50ZXJzZWN0OiBmYWxzZSwKICAgICAgICAvLyB9LAogICAgICAgIHNjYWxlczogewogICAgICAgICAgeEF4ZXM6IFt7CiAgICAgICAgICAgIGRpc3BsYXk6IHRydWUsCiAgICAgICAgICAgIHNjYWxlTGFiZWw6IHsKICAgICAgICAgICAgICBkaXNwbGF5OiB0cnVlLAogICAgICAgICAgICAgIGxhYmVsU3RyaW5nOiAiRGlhcyIKICAgICAgICAgICAgfQogICAgICAgICAgfV0sCiAgICAgICAgICB5QXhlczogW3sKICAgICAgICAgICAgZGlzcGxheTogdHJ1ZSwKICAgICAgICAgICAgc2NhbGVMYWJlbDogewogICAgICAgICAgICAgIGRpc3BsYXk6IHRydWUsCiAgICAgICAgICAgICAgbGFiZWxTdHJpbmc6ICJSZW5kYSIKICAgICAgICAgICAgfQogICAgICAgICAgfV0KICAgICAgICB9CiAgICAgIH0KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICByZW5kZXJpemFHcmFmaWNvOiBmdW5jdGlvbiByZW5kZXJpemFHcmFmaWNvKCkgewogICAgICB2YXIgbGFuY2FtZW50b3MgPSBfdG9Db25zdW1hYmxlQXJyYXkodGhpcy50b2Rvc0xhbmNhbWVudG9zKTsKCiAgICAgIGxhbmNhbWVudG9zLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsKICAgICAgICByZXR1cm4gbmV3IERhdGUoYS5kYXRhKSA8IG5ldyBEYXRlKGIuZGF0YSk7CiAgICAgIH0pOwogICAgICBsYW5jYW1lbnRvcy5yZXZlcnNlKCk7CiAgICAgIHZhciB2YWxvckVtQ2FpeGEgPSAwOwogICAgICB2YXIgZGF0YXMgPSBbXTsKICAgICAgdmFyIHZhbG9yZXMgPSBbXTsKICAgICAgZGF0YXMgPSBsYW5jYW1lbnRvcy5tYXAoZnVuY3Rpb24gKGxhbmNhbWVudG8pIHsKICAgICAgICB2YWxvckVtQ2FpeGEgKz0gbGFuY2FtZW50by52YWxvcjsKICAgICAgICB2YWxvcmVzLnB1c2godmFsb3JFbUNhaXhhKTsKICAgICAgICByZXR1cm4gbGFuY2FtZW50by5kYXRhOwogICAgICB9KTsKICAgICAgdmFyIGNvckN1cnZhID0gdmFsb3JFbUNhaXhhID4gMCA/ICdibHVlJyA6ICdyZWQnOwogICAgICB2YXIgY29uZmlnID0gewogICAgICAgIHR5cGU6ICJsaW5lIiwKICAgICAgICBkYXRhOiB7CiAgICAgICAgICBsYWJlbHM6IGRhdGFzLAogICAgICAgICAgZGF0YXNldHM6IFt7CiAgICAgICAgICAgIGxhYmVsOiAiQ29tcG9ydGFtZW50byBkbyBzZXUgZGluaGVpcm8iLAogICAgICAgICAgICBib3JkZXJDb2xvcjogY29yQ3VydmEsCiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogY29yQ3VydmEsCiAgICAgICAgICAgIGRhdGE6IHZhbG9yZXMsCiAgICAgICAgICAgIGZpbGw6IGZhbHNlCiAgICAgICAgICB9XQogICAgICAgIH0sCiAgICAgICAgb3B0aW9uczogdGhpcy5vcGNvZXNHcmFmaWNvCiAgICAgIH07CiAgICAgIHZhciBjb250ZXh0byA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdncmFmaWNvJykuZ2V0Q29udGV4dCgnMmQnKTsKICAgICAgbmV3IENoYXJ0KGNvbnRleHRvLCBjb25maWcpOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMucmVuZGVyaXphR3JhZmljbygpOwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgdGhpcy4kc3RvcmUuc3Vic2NyaWJlKGZ1bmN0aW9uIChtdXRhdGlvbiwgc3RhdGUpIHsKICAgICAgaWYgKG11dGF0aW9uLnR5cGUgPT09ICJjYWxjdWxhQ2FpeGEiKSB7CiAgICAgICAgX3RoaXMucmVuZGVyaXphR3JhZmljbygpOwoKICAgICAgICBjb25zb2xlLmxvZygnc3RhdGUnKTsKICAgICAgICBjb25zb2xlLmxvZyhzdGF0ZSk7CiAgICAgIH0KICAgIH0pOwogIH0KfTs="},{"version":3,"sources":["C:\\Users\\Usuario\\Desktop\\Meus gastos App\\meus-gastos\\src\\components\\GraficoResumo.vue"],"names":[],"mappings":";;AAOA,SAAS,UAAT,QAA2B,MAA3B;AACA,OAAO,KAAP,MAAkB,UAAlB;AAEA,eAAe;AACX,EAAA,IAAI,EAAE,eADK;AAEX,EAAA,QAAQ,EAAE,UAAU,CAAC,CAAC,kBAAD,CAAD,CAFT;AAGX,EAAA,IAHW,kBAGL;AACF,WAAM;AACF,MAAA,aAAa,EAAC;AACV,QAAA,UAAU,EAAE,IADF;AAEV,QAAA,KAAK,EAAC;AACF,UAAA,OAAO,EAAE,IADP;AAEF,UAAA,IAAI,EAAE;AAFJ,SAFI;AAMV,QAAA,QAAQ,EAAC;AACL,UAAA,IAAI,EAAE,OADD;AAEL,UAAA,SAAS,EAAE;AAFN,SANC;AAUV;AACA;AACA;AACA;AACA,QAAA,MAAM,EAAC;AACH,UAAA,KAAK,EAAC,CACF;AACI,YAAA,OAAO,EAAE,IADb;AAEI,YAAA,UAAU,EAAE;AACR,cAAA,OAAO,EAAE,IADD;AAER,cAAA,WAAW,EAAE;AAFL;AAFhB,WADE,CADH;AAWH,UAAA,KAAK,EAAC,CACF;AACI,YAAA,OAAO,EAAE,IADb;AAEI,YAAA,UAAU,EAAE;AACR,cAAA,OAAO,EAAE,IADD;AAER,cAAA,WAAW,EAAE;AAFL;AAFhB,WADE;AAXH;AAdG;AADZ,KAAN;AAsCH,GA1CU;AA2CX,EAAA,OAAO,EAAC;AACJ,IAAA,gBADI,8BACc;AACd,UAAI,WAAU,sBAAQ,KAAK,gBAAb,CAAd;;AACA,MAAA,WAAW,CAAC,IAAZ,CAAiB,UAAC,CAAD,EAAI,CAAJ;AAAA,eAAS,IAAI,IAAJ,CAAS,CAAC,CAAC,IAAX,IAAmB,IAAI,IAAJ,CAAS,CAAC,CAAC,IAAX,CAA5B;AAAA,OAAjB;AACA,MAAA,WAAW,CAAC,OAAZ;AAEA,UAAI,YAAW,GAAI,CAAnB;AACA,UAAI,KAAI,GAAI,EAAZ;AACA,UAAI,OAAM,GAAI,EAAd;AAEA,MAAA,KAAI,GAAI,WAAW,CAAC,GAAZ,CAAiB,UAAA,UAAS,EAAI;AAClC,QAAA,YAAW,IAAK,UAAU,CAAC,KAA3B;AACA,QAAA,OAAO,CAAC,IAAR,CAAa,YAAb;AACA,eAAO,UAAU,CAAC,IAAlB;AACH,OAJO,CAAR;AAMA,UAAM,QAAO,GAAI,YAAW,GAAI,CAAf,GAAmB,MAAnB,GAA4B,KAA7C;AACA,UAAM,MAAK,GAAI;AACX,QAAA,IAAI,EAAE,MADK;AAEX,QAAA,IAAI,EAAC;AACD,UAAA,MAAM,EAAE,KADP;AAED,UAAA,QAAQ,EAAC,CACL;AACI,YAAA,KAAK,EAAE,+BADX;AAEI,YAAA,WAAW,EAAE,QAFjB;AAGI,YAAA,eAAe,EAAE,QAHrB;AAII,YAAA,IAAI,EAAE,OAJV;AAKI,YAAA,IAAI,EAAE;AALV,WADK;AAFR,SAFM;AAcX,QAAA,OAAO,EAAE,KAAK;AAdH,OAAf;AAgBA,UAAM,QAAO,GAAI,QAAQ,CAAC,cAAT,CAAwB,SAAxB,EAAmC,UAAnC,CAA8C,IAA9C,CAAjB;AACA,UAAI,KAAJ,CAAU,QAAV,EAAoB,MAApB;AACJ;AAnCI,GA3CG;AAgFX,EAAA,OAhFW,qBAgFF;AACL,SAAK,gBAAL;AACH,GAlFU;AAmFX,EAAA,OAnFW,qBAmFF;AAAA;;AACL,SAAK,MAAL,CAAY,SAAZ,CAAsB,UAAC,QAAD,EAAW,KAAX,EAAmB;AACrC,UAAG,QAAQ,CAAC,IAAT,KAAkB,cAArB,EAAoC;AAChC,QAAA,KAAI,CAAC,gBAAL;;AACA,QAAA,OAAO,CAAC,GAAR,CAAY,OAAZ;AACA,QAAA,OAAO,CAAC,GAAR,CAAY,KAAZ;AACJ;AACH,KAND;AAOJ;AA3FW,CAAf","sourcesContent":["<template>\r\n  <div>\r\n        <canvas id='grafico'></canvas>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters } from 'vuex';\r\nimport Chart from 'chart.js';\r\n\r\nexport default {\r\n    name: 'GraficoResumo',\r\n    computed: mapGetters(['todosLancamentos']),\r\n    data(){\r\n        return{\r\n            opcoesGrafico:{\r\n                responsive: true,\r\n                title:{\r\n                    display: true,\r\n                    text: 'Dinheiro em caixa',\r\n                },\r\n                tooltips:{\r\n                    mode: 'index',\r\n                    intersect: false,\r\n                },\r\n                // hover:{\r\n                //     mode: 'nearest',\r\n                //     intersect: false,\r\n                // },\r\n                scales:{\r\n                    xAxes:[\r\n                        {\r\n                            display: true,\r\n                            scaleLabel: {\r\n                                display: true,\r\n                                labelString: \"Dias\",\r\n                            }\r\n\r\n                        }\r\n                    ],\r\n                    yAxes:[\r\n                        {\r\n                            display: true,\r\n                            scaleLabel: {\r\n                                display: true,\r\n                                labelString: \"Renda\"\r\n                            }\r\n                        }\r\n                    ]\r\n                }\r\n            },\r\n        }\r\n    },\r\n    methods:{\r\n        renderizaGrafico(){\r\n            let lancamentos = [...this.todosLancamentos];\r\n            lancamentos.sort((a, b)=> new Date(a.data) < new Date(b.data));\r\n            lancamentos.reverse();\r\n\r\n            let valorEmCaixa = 0;\r\n            let datas = [];\r\n            let valores = [];\r\n\r\n            datas = lancamentos.map( lancamento =>{\r\n                valorEmCaixa += lancamento.valor;\r\n                valores.push(valorEmCaixa)\r\n                return lancamento.data;\r\n            })\r\n\r\n            const corCurva = valorEmCaixa > 0 ? 'blue' : 'red';\r\n            const config = {\r\n                type: \"line\",\r\n                data:{\r\n                    labels: datas,\r\n                    datasets:[\r\n                        {\r\n                            label: \"Comportamento do seu dinheiro\",\r\n                            borderColor: corCurva,\r\n                            backgroundColor: corCurva,\r\n                            data: valores,\r\n                            fill: false\r\n                        }\r\n                    ]\r\n                },\r\n                options: this.opcoesGrafico,\r\n            };\r\n            const contexto = document.getElementById('grafico').getContext('2d');\r\n            new Chart(contexto, config);\r\n        }\r\n    },\r\n    mounted(){\r\n        this.renderizaGrafico();\r\n    },\r\n    created(){\r\n        this.$store.subscribe((mutation, state)=>{\r\n            if(mutation.type === \"calculaCaixa\"){\r\n                this.renderizaGrafico();\r\n                console.log('state');\r\n                console.log(state);\r\n            }\r\n        })\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\ndiv{\r\n    width: 90% !important;\r\n}\r\n\r\n</style>"],"sourceRoot":""}]}